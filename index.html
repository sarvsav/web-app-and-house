<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>House vs Web App — Interactive Analogy</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#7dd3fc;--muted:#94a3b8;--good:#10b981;--bad:#ef4444}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; margin:0; background:linear-gradient(180deg,#071126 0%, #071833 100%); color: #e6eef6}
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;border-bottom:1px solid rgba(255,255,255,0.04)}
    header h1{font-size:18px;margin:0}
    .controls{display:flex;gap:8px;align-items:center}
    button, .toggle{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent);padding:8px 10px;border-radius:8px;cursor:pointer}
    button.primary{background:var(--accent);color:#042027;border:none}
    main{padding:20px}
    .slides{min-height:420px}
    .slide{display:none}
    .slide.active{display:block}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .two-col{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .mapping-list{display:grid;gap:8px}
    .pair{display:flex;justify-content:space-between;padding:10px;border-radius:8px;background:rgba(255,255,255,0.01)}
    .activity{display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:start}
    .drag-list{display:flex;flex-direction:column;gap:10px;padding:10px;border-radius:10px;background:rgba(255,255,255,0.016);min-height:320px}
    .drag-item{padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px dashed rgba(255,255,255,0.03);cursor:grab}
    .drop-list{display:flex;flex-direction:column;gap:10px;padding:10px;border-radius:10px;background:rgba(255,255,255,0.01);min-height:320px}
    .drop-target{padding:10px;border-radius:8px;background:rgba(255,255,255,0.01);border:1px solid rgba(255,255,255,0.03);min-height:44px;display:flex;align-items:center;justify-content:space-between}
    .drop-target .slot{min-height:28px;min-width:40%}
    .drop-target.correct{border-color:rgba(16,185,129,0.6);background:linear-gradient(90deg,rgba(16,185,129,0.06),transparent)}
    .drop-target.incorrect{border-color:rgba(239,68,68,0.6);background:linear-gradient(90deg,rgba(239,68,68,0.04),transparent)}
    footer{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;border-top:1px solid rgba(255,255,255,0.03)}
    .note{color:var(--muted);font-size:13px}
    .teacher-panel{position:fixed;right:18px;top:78px;width:360px;max-height:70vh;overflow:auto;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(2,6,23,0.8), rgba(2,6,35,0.9));border:1px solid rgba(255,255,255,0.03)}
    .hidden{display:none}
    .btn-row{display:flex;gap:8px}
    .small{padding:6px 8px;font-size:13px}
    .quiz{display:grid;gap:10px}
    .handout{white-space:pre-wrap;font-family:monospace;font-size:13px;padding:10px;background:rgba(255,255,255,0.02);border-radius:8px}
    @media (max-width:900px){.two-col{grid-template-columns:1fr}.teacher-panel{position:static;width:auto;margin-top:12px}}
  </style>
</head>
<body>
  <header>
    <h1>House ↔️ Web App — Interactive Analogy</h1>
    <div class="controls">
      <button id="prev">◀ Prev</button>
      <button id="next">Next ▶</button>
      <button id="teacherToggle" class="toggle">Teacher Mode</button>
    </div>
  </header>
  <main>
    <div class="slides">

      <!-- Other slides omitted for brevity -->

      <section class="slide card" data-index="4">
        <h2>Quick quiz</h2>
        <div class="quiz" style="margin-top:12px">
          <div>
            <p><strong>Q1.</strong> Which building element best maps to a database?</p>
            <label><input type="radio" name="q1" value="a"> A) Roof</label><br>
            <label><input type="radio" name="q1" value="b"> B) Plumbing & Electrical</label><br>
            <label><input type="radio" name="q1" value="c"> C) Windows & Doors</label>
          </div>
          <div>
            <p><strong>Q2.</strong> What is the best analogy for a CDN?</p>
            <label><input type="radio" name="q2" value="a"> A) Local warehouse / supply depot</label><br>
            <label><input type="radio" name="q2" value="b"> B) Inspector</label><br>
            <label><input type="radio" name="q2" value="c"> C) Furniture</label>
          </div>
          <div>
            <p><strong>Q3.</strong> Which part of a house is like the frontend of a web app?</p>
            <label><input type="radio" name="q3" value="a"> A) Furniture and interior design</label><br>
            <label><input type="radio" name="q3" value="b"> B) Foundation</label><br>
            <label><input type="radio" name="q3" value="c"> C) Plumbing</label>
          </div>
          <div>
            <p><strong>Q4.</strong> The inspector in a house project is similar to what in software development?</p>
            <label><input type="radio" name="q4" value="a"> A) QA / Testing</label><br>
            <label><input type="radio" name="q4" value="b"> B) Frontend design</label><br>
            <label><input type="radio" name="q4" value="c"> C) Database setup</label>
          </div>
          <div>
            <p><strong>Q5.</strong> Which house element represents DevOps / Operations?</p>
            <label><input type="radio" name="q5" value="a"> A) Maintenance crew</label><br>
            <label><input type="radio" name="q5" value="b"> B) Roof</label><br>
            <label><input type="radio" name="q5" value="c"> C) Windows</label>
          </div>
          <div class="btn-row">
            <button id="gradeQuiz" class="primary small">Grade Quiz</button>
            <button id="revealQuiz" class="small">Reveal Answers</button>
            <button id="downloadQuiz" class="small">Download Quiz</button>
          </div>
          <div id="quizResult" style="margin-top:10px" class="note"></div>
        </div>
      </section>

      <!-- Teacher notes slide etc. -->

    </div>
  </main>
  <footer>
    <div class="note">Keyboard: ◀/▶ to navigate • Teacher Mode reveals answers</div>
    <div>
      <button id="openHandout" class="small">Open handout</button>
    </div>
  </footer>

  <div id="teacherPanel" class="teacher-panel hidden card" aria-hidden="true">
    <h3>Teacher Panel</h3>
    <div id="panelContent" class="note" style="margin-top:8px"></div>
  </div>

  <script>
    // Existing mappings and functions remain unchanged...

    // Quiz grading (extended)
    document.getElementById('gradeQuiz').addEventListener('click', ()=>{
      const answers = {q1:'b', q2:'a', q3:'a', q4:'a', q5:'a'};
      let score=0; let total=Object.keys(answers).length;
      for(let q in answers){
        const ans = document.querySelector(`input[name=${q}]:checked`);
        if(ans && ans.value===answers[q]) score++;
      }
      document.getElementById('quizResult').textContent = `Score: ${score}/${total}`;
    });

    document.getElementById('revealQuiz').addEventListener('click', ()=>{
      document.getElementById('quizResult').innerHTML = 'Answers: Q1 = B, Q2 = A, Q3 = A, Q4 = A, Q5 = A';
    });

    // Download quiz in text format
    document.getElementById('downloadQuiz').addEventListener('click', ()=>{
      const quizText = `House vs Web App — Quiz Questions\n\n1. Which building element best maps to a database?\nA) Roof\nB) Plumbing & Electrical\nC) Windows & Doors\n\n2. What is the best analogy for a CDN?\nA) Local warehouse / supply depot\nB) Inspector\nC) Furniture\n\n3. Which part of a house is like the frontend of a web app?\nA) Furniture and interior design\nB) Foundation\nC) Plumbing\n\n4. The inspector in a house project is similar to what in software development?\nA) QA / Testing\nB) Frontend design\nC) Database setup\n\n5. Which house element represents DevOps / Operations?\nA) Maintenance crew\nB) Roof\nC) Windows\n`;
      const blob = new Blob([quizText], {type: 'text/plain'});
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'house-vs-webapp-quiz.txt';
      link.click();
    });
  </script>
</body>
</html>
